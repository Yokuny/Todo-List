(()=>{"use strict";function e(){document.getElementById("placeToRegisterCardRender").style.display="none",console.log(">>> Close Register Card")}function t(){document.getElementById("placeToRegisterCardRender").style.display="initial",console.log(">>> Open Register Card")}function n(e){const t=document.getElementById("itens");t.innerHTML="";let n=[];for(let t=0;t<e.length;t++){let d=document.createElement("h4");d.textContent=e[t].title;let l=document.createElement("p");l.textContent=e[t].description;let o=document.createElement("div");o.appendChild(d),o.appendChild(l);let i=document.createElement("div");i.innerHTML=`\n    <ion-icon id="${e[t].id+5e3}" name="eye-outline"></ion-icon>\n    <ion-icon id="${e[t].id+3e3}" name="create-outline"></ion-icon>\n    <ion-icon id="${e[t].id+1e3}" name="trash-outline"></ion-icon>`,i.classList.add("cardIcons");let r=document.createElement("div");r.classList.add("item"),r.style.borderLeft=`10px solid var(--${e[t].priority})`,r.appendChild(o),r.appendChild(i),n.push(r)}n.forEach((e=>{t.appendChild(e)})),console.log(">>> Render All Tasks")}function d(e){switch(console.log("entrei na função"),document.getElementById("normalRender").classList.add("listHover"),document.getElementById("normalRender").classList.remove("listSelected"),document.getElementById("importantRender").classList.add("listHover"),document.getElementById("importantRender").classList.remove("listSelected"),document.getElementById("urgentRender").classList.add("listHover"),document.getElementById("urgentRender").classList.remove("listSelected"),document.getElementById("allTaskRender").classList.add("listHover"),document.getElementById("allTaskRender").classList.remove("listSelected"),e){case"red":e=document.getElementById("urgentRender");break;case"blue":e=document.getElementById("importantRender");break;case"green":e=document.getElementById("normalRender")}e.classList.add("listSelected")}let l=[];const o=document.getElementById("taskInput"),i=document.getElementById("registerTaskCard"),r=document.getElementById("normalRender"),a=document.getElementById("importantRender"),s=document.getElementById("urgentRender"),c=document.getElementById("allTaskRender"),m=(()=>{const e=()=>{document.getElementsByName("eye-outline").forEach((e=>{e.addEventListener("click",(e=>{console.log(">> esta executando função por click")}))})),console.log("> event to eye-outline")},t=()=>{document.getElementsByName("create-outline").forEach((e=>{e.addEventListener("click",(e=>{editTask(e.target.id-1e3)}))})),console.log("> event to create-outline")},o=()=>{document.getElementsByName("trash-outline").forEach((i=>{i.addEventListener("click",(i=>{(i=>{for(let e=0;e<l.length;e++)l[e].id==i&&l.splice(e,1);localStorage.setItem("taskList",JSON.stringify(l)),n(l),d(c),e(),t(),o(),console.log("> task removida, nova lista em LocalStorage, novo display e listeners")})(i.target.id-1e3)}))})),console.log("> event to trash-outline")};return{eventViewBtn:e,eventEditBtn:t,eventEraseBtn:o,renderByPriority:i=>{let r=[];for(let e=0;e<l.length;e++)l[e].priority==i&&r.push(l[e]);n(r),d(c),e(),t(),o()}}})();localStorage.taskList?(l=JSON.parse(localStorage.getItem("taskList")),e(),n(l),d(c),m.eventViewBtn(),m.eventEditBtn(),m.eventEraseBtn()):t(),o.addEventListener("submit",(t=>{t.preventDefault(),l.push(function(e){let t="";return t=document.getElementById("urgent").checked?"urgent":document.getElementById("important").checked?"important":"normal",((e,t,n,d,l)=>{let o;switch(d){case"normal":o="green";break;case"important":o="blue";break;case"urgent":o="red";break;default:o="light-gray"}return{title:e,description:t,dueDate:n,priority:o,id:l+=500}})(document.getElementById("taskTitle").value,document.getElementById("taskDescription").value,document.getElementById("dueData").value,t,e)}(l.length)),localStorage.setItem("taskList",JSON.stringify(l)),e(),document.getElementById("taskTitle").value="",document.getElementById("taskDescription").value="",document.getElementById("dueData").value="",console.log(">>> Clean Register Card"),m.renderByPriority(l[l.length-1].priority),d(l[l.length-1].priority),m.eventViewBtn(),m.eventEditBtn(),m.eventEraseBtn()})),i.addEventListener("click",t),r.addEventListener("click",(()=>{m.renderByPriority("green"),d(r)})),a.addEventListener("click",(()=>{m.renderByPriority("blue"),d(a)})),s.addEventListener("click",(()=>{m.renderByPriority("red"),d(s)})),c.addEventListener("click",(()=>{n(l),d(c),m.eventViewBtn(),m.eventEditBtn(),m.eventEraseBtn()}))})();